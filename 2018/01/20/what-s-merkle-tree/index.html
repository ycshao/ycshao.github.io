<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Merkle tree is a data structure which build from the leaf to root using hash functions. It is used in many applications other than blockchain. Cassandra uses it to detect inconsistency between replica">
<meta property="og:type" content="article">
<meta property="og:title" content="What is Merkle tree?">
<meta property="og:url" content="http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/index.html">
<meta property="og:site_name" content="NEAO">
<meta property="og:description" content="Merkle tree is a data structure which build from the leaf to root using hash functions. It is used in many applications other than blockchain. Cassandra uses it to detect inconsistency between replica">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/merkle_tree.png">
<meta property="og:image" content="http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/block.png">
<meta property="og:image" content="http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/merkle_path.png">
<meta property="article:published_time" content="2018-01-20T21:55:07.000Z">
<meta property="article:modified_time" content="2018-01-20T21:55:07.000Z">
<meta property="article:author" content="ycshao">
<meta property="article:tag" content="hash">
<meta property="article:tag" content="Merkle tree">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/merkle_tree.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/android-chrome-144x144.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>What is Merkle tree?</title>
    <!-- async scripts -->
    <!-- Google Analytics -->

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S642FEGDZ1"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-S642FEGDZ1');
  </script>


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="NEAO" type="application/atom+xml" />
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.0.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/categories/cryptocurrency">Cryptocurrency / 数字货币</a></li><!--
     --><!--
       --><li><a href="/categories/program-ape">Program Ape / 程序员</a></li><!--
     --><!--
       --><li><a href="/categories/finance">Finance / $$$$$</a></li><!--
     --><!--
       --><li><a href="/categories/image-processing">Image Processing / 图像处理</a></li><!--
     --><!--
       --><li><a href="/categories/life-tips">Life Tips / 生活贴士</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2018/02/11/what-is-erc20-tocken/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2018/01/09/what-s-proof-of-x/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&text=What is Merkle tree?"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&is_video=false&description=What is Merkle tree?"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=What is Merkle tree?&body=Check out this article: http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&name=What is Merkle tree?&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&t=What is Merkle tree?"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        What is Merkle tree?
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">ycshao</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2018-01-20T21:55:07.000Z" class="dt-published" itemprop="datePublished">2018-01-20</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/cryptocurrency/">cryptocurrency</a> › <a class="category-link" href="/categories/cryptocurrency/Uncategorized/">Uncategorized</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Merkle-tree/" rel="tag">Merkle tree</a>, <a class="p-category" href="/tags/hash/" rel="tag">hash</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>Merkle tree is a data structure which build from the leaf to root using hash functions. It is used in many applications other than blockchain. Cassandra uses it to detect inconsistency between replicas and update replica if necessary. Git uses it to manage it’s internal object data models. It is a very useful data structure to encode large number of data into very small hash representation.</p>
<p>Let’s see how blockchain uses Merkle tree to encode transactions.</p>
<p><img src="/2018/01/20/what-s-merkle-tree/merkle_tree.png"></p>
<p>As you can see, we have <code>HA</code>, <code>HB</code>, <code>HC</code> and <code>HD</code> four transactions. We build leaves by hashing transaction data, in bitcoin blockchain case, it uses <code>double-SHA256</code>, basically <code>SHA256</code> twice. Each hash generate 32-byte hash output. And then we work our way up to generate second level nodes, by concatenating leaf-nodes’ hashes and apply <code>double-SHA256</code>. In the picture, this produces <code>HAB</code> and <code>HCD</code>. We apply the same process again to generate the root node. And we stop when we reaches root. As you can see, each node is 32-byte in this tree.</p>
<p>How is this Merkle tree used in blockchain?</p>
<p><img src="/2018/01/20/what-s-merkle-tree/block.png"></p>
<p>If you look inside each block, you will find it stores Merkle tree root hash in the block header. And transaction data are completely separate from headers. Basically the Merkle tree root hash encodes all transaction data, and any changes of transaction a part of the tree will invalidate the root hash. This way people can validate if data has been changed using root hash. Each block’s hash is generated from hashing header information.</p>
<p>This usage of Merkle tree and separation of header and actual transactions enables blockchain to be used in light-weight mode, which is called Simplified Payment Verification (SPV). SPV nodes don’t have all transactions and do not download full blocks, just block headers. In order to verify that a transaction is included in a block, without having to download all the transactions in the block, they use an authentication path, or merkle path.</p>
<p><img src="/2018/01/20/what-s-merkle-tree/merkle_path.png"></p>
<p>Imagine we want to validate <code>HK</code> to see if it’s in a block. We basically need block header to find out Merkle tree root hash, Merkle path related to <code>HK</code>. Merkle path is all data you need to verify a transaction, in this case, all nodes labeled in blue. You redo all hashes starting from <code>HK</code> and <code>HL</code> all the way to root, and then compare it to the root hash from the header. If they are the same, you can be sure it’s a transaction which is a part of the block. This verification requires <code>log(N)</code> hashes to do, which is pretty efficient.</p>
<p>Here is a code snippet how to build Merkle tree and return the root hash</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitcoin/bitcoin.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">bc::hash_digest <span class="title">create_merkle</span><span class="params">(bc::hash_list&amp; merkle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Stop if hash list is empty.</span></span><br><span class="line">    <span class="keyword">if</span> (merkle.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">return</span> bc::null_hash;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (merkle.<span class="built_in">size</span>() == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> merkle[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// While there is more than 1 hash in the list, keep looping...</span></span><br><span class="line">    <span class="keyword">while</span> (merkle.<span class="built_in">size</span>() &gt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// If number of hashes is odd, duplicate last hash in the list.</span></span><br><span class="line">        <span class="keyword">if</span> (merkle.<span class="built_in">size</span>() % <span class="number">2</span> != <span class="number">0</span>)</span><br><span class="line">            merkle.<span class="built_in">push_back</span>(merkle.<span class="built_in">back</span>());</span><br><span class="line">        <span class="comment">// List size is now even.</span></span><br><span class="line">        <span class="built_in">assert</span>(merkle.<span class="built_in">size</span>() % <span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// New hash list.</span></span><br><span class="line">        bc::hash_list new_merkle;</span><br><span class="line">        <span class="comment">// Loop through hashes 2 at a time.</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = merkle.<span class="built_in">begin</span>(); it != merkle.<span class="built_in">end</span>(); it += <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Join both current hashes together (concatenate).</span></span><br><span class="line">            <span class="function">bc::data_chunk <span class="title">concat_data</span><span class="params">(bc::hash_size * <span class="number">2</span>)</span></span>;</span><br><span class="line">            <span class="keyword">auto</span> concat = bc::<span class="built_in">serializer</span>&lt;</span><br><span class="line">                <span class="keyword">decltype</span>(concat_data.<span class="built_in">begin</span>())&gt;(concat_data.<span class="built_in">begin</span>());</span><br><span class="line">            concat.<span class="built_in">write_hash</span>(*it);</span><br><span class="line">            concat.<span class="built_in">write_hash</span>(*(it + <span class="number">1</span>));</span><br><span class="line">            <span class="comment">// Hash both of the hashes.</span></span><br><span class="line">            bc::hash_digest new_root = bc::<span class="built_in">bitcoin_hash</span>(concat_data);</span><br><span class="line">            <span class="comment">// Add this to the new list.</span></span><br><span class="line">            new_merkle.<span class="built_in">push_back</span>(new_root);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// This is the new list.</span></span><br><span class="line">        merkle = new_merkle;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Finally we end up with a single item.</span></span><br><span class="line">    <span class="keyword">return</span> merkle[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Reference<br><a target="_blank" rel="noopener" href="https://www.safaribooksonline.com/library/view/Mastering+Bitcoin,+2nd+Edition/9781491954379/ch09.html#chain_of_blocks">https://www.safaribooksonline.com/library/view/Mastering+Bitcoin,+2nd+Edition/9781491954379/ch09.html#chain_of_blocks</a><br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Merkle_tree">https://en.wikipedia.org/wiki/Merkle_tree</a><br><a target="_blank" rel="noopener" href="https://github.com/bitcoin/bitcoin/blob/master/src/consensus/merkle.cpp">https://github.com/bitcoin/bitcoin/blob/master/src/consensus/merkle.cpp</a></p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/categories/cryptocurrency">Cryptocurrency / 数字货币</a></li>
        
          <li><a href="/categories/program-ape">Program Ape / 程序员</a></li>
        
          <li><a href="/categories/finance">Finance / $$$$$</a></li>
        
          <li><a href="/categories/image-processing">Image Processing / 图像处理</a></li>
        
          <li><a href="/categories/life-tips">Life Tips / 生活贴士</a></li>
        
      </ul>
    </div>

    
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&text=What is Merkle tree?"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&is_video=false&description=What is Merkle tree?"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=What is Merkle tree?&body=Check out this article: http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&title=What is Merkle tree?"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&name=What is Merkle tree?&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://blog.ycshao.com/2018/01/20/what-s-merkle-tree/&t=What is Merkle tree?"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2012-2023
    ycshao
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/categories/cryptocurrency">Cryptocurrency / 数字货币</a></li><!--
     --><!--
       --><li><a href="/categories/program-ape">Program Ape / 程序员</a></li><!--
     --><!--
       --><li><a href="/categories/finance">Finance / $$$$$</a></li><!--
     --><!--
       --><li><a href="/categories/image-processing">Image Processing / 图像处理</a></li><!--
     --><!--
       --><li><a href="/categories/life-tips">Life Tips / 生活贴士</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'blog-zvpzlfc5vv';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>

<!-- utterances Comments -->

</body>
</html>
